{% extends 'base.html'%}
{% load static %}
{% load bootstrap4 %}
{% block content %}
{% csrf_token %}

<!-- Student List Start -->
<div class=" row justify-content-start mar" style="width: 100%;">
  <div class="col-6 ">
    <div class="scrolled muli">

      <table class="table table-striped table-hover pad js-serial">
        <thead class="bg_green">
          <tr class="head-text">
            <th class="col-1" style="width:110px;">Photo</th>
            <th class="col-3">Student List</th>
            <th class="col-2 pr_25">Action</th>
          </tr>
        </thead>

        {% for i in infolist %}
        <tbody class="table-bordered ">
          <tr>
            <td>
              <div style="height:60px;">
                {% if i.image %}
                <img class="card-img-top" src="{{ i.image.url }}" alt="Card image" style="height:60px; width: 60px;">
                {% else %}
                <img class="card-img-top" src="{% static 'images/dummyprofile.png' %}" alt="Card image">
                {% endif %}
              </div>
            </td>
            <td>
              <a href="{% url 'student-detail' i.pk %}"> <b class="list-name muli text-dark">{{ i.name_text }}</b></a>
            </td>

            <td class="d-flex justify-content-center pr_25">
              <a class="btn" data-toggle="tooltip" data-placement="right" title="Delete"
                href="{% url 'delete' i.pk %}"><i class="fa fa-trash" style="font-size:44px; color: crimson;"></i></a>
            </td>
          </tr>
        </tbody>
        {% endfor %}
      </table>

    </div>
    <!--Pagenation-->
    {% if is_paginated %}
    <ul class="pagination d-flex justify-content-center">
      {% if page_obj.has_previous %}
      <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
      {% else %}
      <li class="disabled"><span class="page-link">&laquo;</span></li>
      {% endif %}
      {% for i in paginator.page_range %}
      {% if page_obj.number == i %}
      <li class="active"><span class="page-link">{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
      <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
      {% endfor %}
      {% if page_obj.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
      {% else %}
      <li class="disabled"><span class="page-link">&raquo;</span></li>
      {% endif %}
    </ul>
    {% endif %}
    <!--End Pagenation-->

  </div>
  <div class="col-1 align-self-center">
    <img src="{% static 'images\logoblank.png' %}" alt="scroll down" class="scroll">
  </div>
  <div class="col-5 justify-content-end">
    <div class="muli">
      <h3 class=" hd"><b>HOW TO USE</b></h3>
      <ul><b>
          <li>Add a new student</li>
          <li>Input all their details</li>
          <li>Add marks for student by clicking the name in list</li>
          <li>Input marks according to terminal exam</li>
          <li>Save</li>
          <li>After all 3 terms marks are inputted, Generate Final Report</li>
          <li>View Final Report</li>
          <li>Generate PDF</li>
        </b>
      </ul>
      <h3 class="hd"><b>WHAT IT CAN DO</b></h3>
      <ul><b>
          <li>Add and update student details</li>
          <li>Add, update and calculate student marks</li>
          <li>Generate marksheet of student result</li>
        </b>
      </ul>
      <div>
        <h3 class="hd"><b>SUPPORTED BY</b></h3>
        <b>
          <marquee behavior="sliding" direction="left">Ontreat Services Pvt. Ltd.
            <br>
            Nayabazar, Kathmandu
            <br>
            Website:<a href="http://www.ontreat.com"> www.ontreat.com</a>
          </marquee>
        </b>
      </div>
    </div>
  </div>
</div>

<div class="alert alert-success muli">
  <h3 class="text-center"><b>A BIT ABOUT THE SYSTEM</b></h3>
  <p class="text-justify"><b>
      Grading in education is the process of applying standardized measurements of varying levels of achievement in a
      course.
      Grades can be assigned as letters (for example A through F), as a range (for example 1 to 6), as a percentage of a
      total
      number of questions answered correctly, or as a number out of a possible total (for example out of 20 or 100).
      The final grading is done by aggregating 10% from 1st terminal and 2nd terminal result and 80% from 3rd terminal
      result.
    </b> </p>
</div><br>

<!--Carausal-->
<div>
  {% include 'D:\djangoproject\Project\student\studentinfo\templates\multiplecarausal.html' %}
</div> <br>
<div class="footer bg_green footer_css text-center">
  <p class="muli pt_10">&copy; Student Grading System - 2019 All Rights Reserved</p>
</div>

<script>
  function searchOpen() {
    var search = $('#txtSearch').val()
    var data = {
      search: search
    };
    $.ajax({
      url: '/search.json',
      data: data,
      dataType: 'jsonp',
      jsonp: 'callback',
      jsonpCallback: 'searchResult'
    });
  }
  function searchResult(data) {
    $("#txtSearch").autocomplete({
      source: data
    });
  }

  function addRowCount(tableAttr) {
    $(tableAttr).each(function () {
      $('th:first-child, thead td:first-child', this).each(function () {
        var tag = $(this).prop('tagName');
        $(this).before('<' + tag + '>S.N.</' + tag + '>');
      });
      $('td:first-child', this).each(function (i) {
        $(this).before('<td><b>' + (i + 1) + '</b></td>');
      });
    });
  }

  // Call the function with table attr on which you want automatic serial number
  addRowCount('.js-serial');

  $(document).ready(function () {
    $('[data-toggle="tooltip"]').tooltip();
  });
</script>

{% endblock %}